<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ðŸŒ¸ Auguri per l'8 Marzo! ðŸŒ¸</title>
    
    <!-- Libreria Anime.js per animazioni -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>

    <style>
        body {
            margin: 0;
            overflow: hidden;
            background: linear-gradient(120deg, #ffdde1, #ee9ca7);
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            text-align: center;
            font-family: 'Arial', sans-serif;
        }

        h1 {
            color: white;
            font-size: 3rem;
            position: absolute;
            top: 15%;
            text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.2);
        }

        p {
            color: white;
            font-size: 1.5rem;
            position: absolute;
            top: 25%;
            text-shadow: 1px 1px 5px rgba(0, 0, 0, 0.2);
        }

        .container {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .flower {
            position: absolute;
            width: 60px;
            height: 60px;
        }

        .ball {
            position: absolute;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: radial-gradient(circle, #fff7a1, #ff8a00);
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.8);
        }

        .message {
            position: absolute;
            color: white;
            font-size: 2rem;
            font-weight: bold;
            text-shadow: 2px 2px 8px rgba(0,0,0,0.4);
            opacity: 0;
        }
    </style>
</head>
<body>
    <h1>ðŸŒ¸ Buon 8 Marzo! ðŸŒ¸</h1>
    <p>Clicca sullo schermo: una pallina partirÃ  e scoppierÃ  in un augurio! ðŸ’–</p>
    
    <div class="container" onclick="launchBall(event)"></div>

    <!-- Effetto audio -->
    <audio id="flowerSound" src="https://www.fesliyanstudios.com/play-mp3/4386" preload="auto"></audio>

    <script>
        function launchBall(event) {
            let audio = document.getElementById("flowerSound");
            audio.currentTime = 0;
            audio.play();

            // Creiamo la pallina
            let ball = document.createElement("div");
            ball.classList.add("ball");
            document.body.appendChild(ball);

            // Partenza: dal basso dello schermo, centro
            let startX = window.innerWidth / 2;
            let startY = window.innerHeight;

            // Punto di arrivo: dove clicchi
            let endX = event.clientX;
            let endY = event.clientY;

            ball.style.left = startX + "px";
            ball.style.top = startY + "px";

            anime({
                targets: ball,
                left: [`${startX}px`, `${endX}px`],
                top: [`${startY}px`, `${endY}px`],
                duration: 1200,
                easing: "easeOutQuad",
                complete: () => {
                    ball.remove();
                    explodeFlowersAt(endX, endY);
                    showMessageAt(endX, endY);
                }
            });
        }

        function explodeFlowersAt(x, y) {
            for (let i = 0; i < 10; i++) {
                let flower = document.createElement("img");
                flower.src = "https://cdn-icons-png.flaticon.com/512/4822/4822083.png";
                flower.classList.add("flower");
                document.body.appendChild(flower);

                let finalX = x + (Math.random() * 200 - 100);
                let finalY = y + (Math.random() * 200 - 100);

                anime({
                    targets: flower,
                    left: [`${x}px`, `${finalX}px`],
                    top: [`${y}px`, `${finalY}px`],
                    scale: [0.5, 1.2],
                    opacity: [1, 0],
                    duration: 2000 + Math.random() * 1000,
                    easing: "easeOutExpo",
                    complete: () => flower.remove(),
                });
            }
        }

        function showMessageAt(x, y) {
            let msg = document.createElement("div");
            msg.classList.add("message");
            msg.textContent = "Auguri! ðŸ’–";

            msg.style.left = (x - 60) + "px";
            msg.style.top = (y - 60) + "px";

            document.body.appendChild(msg);

            anime({
                targets: msg,
                opacity: [0, 1],
                translateY: [20, -20],
                scale: [0.8, 1.2],
                duration: 1500,
                easing: "easeOutQuad",
                complete: () => {
                    anime({
                        targets: msg,
                        opacity: [1, 0],
                        duration: 800,
                        easing: "easeInQuad",
                        complete: () => msg.remove()
                    });
                }
            });
        }
    </script>
</body>
</html>
