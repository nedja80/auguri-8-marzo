  <!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auguri Speciali üíñ</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            margin: 0;
            overflow: hidden;
            font-family: 'Arial Rounded MT Bold', 'Segoe UI', sans-serif;
            background: radial-gradient(circle at top, #ffe9f7 0%, #ffb3d9 40%, #ff7fa3 100%);
            height: 100vh;
            touch-action: manipulation;
            -webkit-tap-highlight-color: transparent;
        }

        #click-area {
            position: fixed;
            inset: 0;
            cursor: pointer;
        }

        .main-wrapper {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 30px;
            z-index: 10;
        }

        .heart-container {
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .heart-glow {
            position: absolute;
            width: 200%;
            height: 200%;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(255,105,180,0.4), rgba(255,255,255,0));
            filter: blur(20px);
            pointer-events: none;
            animation: pulse-glow 2s ease-in-out infinite;
        }

        @keyframes pulse-glow {
            0%, 100% { opacity: 0.3; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.2); }
        }

        .big-heart {
            font-size: clamp(120px, 25vw, 180px);
            animation: heartbeat-big 1.2s ease-in-out infinite;
            filter: drop-shadow(0 0 20px rgba(255,105,180,0.8));
            cursor: pointer;
            z-index: 2;
        }

        @keyframes heartbeat-big {
            0%, 100% { transform: scale(1); }
            14% { transform: scale(1.15); }
            28% { transform: scale(1); }
            42% { transform: scale(1.15); }
            56% { transform: scale(1); }
        }

        .cat-container {
            position: relative;
            cursor: pointer;
            z-index: 2;
        }

        .cat-illustration {
            width: clamp(150px, 30vw, 220px);
            height: clamp(150px, 30vw, 220px);
            position: relative;
        }

        .cat-body {
            position: absolute;
            width: 100%;
            height: 70%;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            background: #2d2d2d;
            border-radius: 50% 50% 40% 40%;
            border: 3px solid #000;
        }

        .cat-head {
            position: absolute;
            width: 70%;
            height: 55%;
            top: 10%;
            left: 50%;
            transform: translateX(-50%);
            background: #3a3a3a;
            border-radius: 50% 50% 45% 45%;
            border: 3px solid #000;
        }

        .cat-ear {
            position: absolute;
            width: 0;
            height: 0;
            border-left: 20px solid transparent;
            border-right: 20px solid transparent;
            border-bottom: 35px solid #3a3a3a;
            top: -15px;
        }

        .cat-ear-left {
            left: 10%;
            transform: rotate(-15deg);
        }

        .cat-ear-right {
            right: 10%;
            transform: rotate(15deg);
        }

        .cat-ear::before {
            content: '';
            position: absolute;
            width: 0;
            height: 0;
            border-left: 12px solid transparent;
            border-right: 12px solid transparent;
            border-bottom: 20px solid #ff9ec6;
            left: 50%;
            top: 5px;
            transform: translateX(-50%);
        }

        .cat-eye {
            position: absolute;
            width: 8px;
            height: 2px;
            background: #000;
            border-radius: 50%;
            top: 45%;
        }

        .cat-eye.sleeping {
            height: 3px;
            background: #000;
            border-radius: 0;
        }

        .cat-eye-left {
            left: 25%;
        }

        .cat-eye-right {
            right: 25%;
        }

        .cat-nose {
            position: absolute;
            width: 12px;
            height: 10px;
            background: #000;
            border-radius: 50% 50% 50% 50%;
            top: 55%;
            left: 50%;
            transform: translateX(-50%);
        }

        .cat-whisker {
            position: absolute;
            width: 40px;
            height: 2px;
            background: #666;
            top: 55%;
        }

        .whisker-left-1 {
            left: -35px;
            transform: rotate(-10deg);
        }

        .whisker-left-2 {
            left: -35px;
            transform: rotate(10deg);
            top: 60%;
        }

        .whisker-right-1 {
            right: -35px;
            transform: rotate(10deg);
        }

        .whisker-right-2 {
            right: -35px;
            transform: rotate(-10deg);
            top: 60%;
        }

        .cat-tail {
            position: absolute;
            width: 60px;
            height: 15px;
            background: #2d2d2d;
            border: 3px solid #000;
            border-radius: 50px;
            bottom: 15%;
            right: -30px;
            transform: rotate(-30deg);
            transform-origin: left center;
        }

        .cat-paw {
            position: absolute;
            width: 25px;
            height: 30px;
            background: #2d2d2d;
            border: 2px solid #000;
            border-radius: 50% 50% 40% 40%;
            bottom: 0;
        }

        .paw-left {
            left: 25%;
        }

        .paw-right {
            right: 25%;
        }

        .zzz {
            position: absolute;
            font-size: 24px;
            color: #fff;
            text-shadow: 0 0 10px rgba(255,255,255,0.8), 2px 2px 0 #ff69b4;
            font-weight: bold;
            opacity: 0;
            pointer-events: none;
        }

        .zzz-1 {
            top: -20px;
            right: -20px;
            animation: float-zzz 2s ease-in-out infinite;
        }

        .zzz-2 {
            top: -40px;
            right: -35px;
            animation: float-zzz 2s ease-in-out infinite 0.4s;
        }

        .zzz-3 {
            top: -60px;
            right: -50px;
            animation: float-zzz 2s ease-in-out infinite 0.8s;
        }

        @keyframes float-zzz {
            0% {
                opacity: 0;
                transform: translateY(10px);
            }
            50% {
                opacity: 1;
                transform: translateY(-5px);
            }
            100% {
                opacity: 0;
                transform: translateY(-20px);
            }
        }

        .active .zzz {
            opacity: 1;
        }

        .ball {
            position: absolute;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: radial-gradient(circle, #ffffff, #ffe066, #ff9d00);
            box-shadow: 0 0 10px #fff, 0 0 25px #ffe066, 0 0 45px #ff9d00;
            pointer-events: none;
            z-index: 5;
        }

        .explosion {
            position: absolute;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(255,255,255,1), rgba(255,192,203,0.6), rgba(255,192,203,0));
            opacity: 0.9;
            pointer-events: none;
            z-index: 5;
        }

        .heart-particle {
            position: absolute;
            font-size: 28px;
            pointer-events: none;
            z-index: 5;
            text-shadow: 0 0 10px rgba(255,255,255,0.9);
            filter: drop-shadow(0 0 8px currentColor);
        }

        .message {
            position: absolute;
            color: #ffffff;
            font-weight: 800;
            font-size: clamp(2rem, 6vw, 3rem);
            text-align: center;
            text-shadow: 0 0 15px rgba(255,255,255,1), 0 0 30px rgba(255,105,180,0.9);
            opacity: 0;
            pointer-events: none;
            z-index: 15;
            white-space: nowrap;
        }

        .sparkle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: white;
            border-radius: 50%;
            pointer-events: none;
            z-index: 3;
            box-shadow: 0 0 10px white;
        }

        .audio-notice {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(255,255,255,0.95);
            padding: 30px 40px;
            border-radius: 20px;
            font-size: 1.2rem;
            color: #ff1493;
            z-index: 10000;
            text-align: center;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .audio-notice:hover {
            transform: translate(-50%, -50%) scale(1.05);
            background: rgba(255,255,255,1);
        }

        .audio-notice.hidden {
            display: none;
        }

        .tap-hint {
            position: absolute;
            bottom: 5%;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            align-items: center;
            gap: 0.4rem;
            color: #fff;
            font-size: clamp(0.9rem, 2.8vw, 1.2rem);
            opacity: 0.8;
            animation: pulse-hint 1.5s infinite;
            pointer-events: none;
            z-index: 10;
            text-shadow: 0 0 10px rgba(255,105,180,0.8);
        }

        .tap-icon {
            font-size: 1.4em;
        }

        @keyframes pulse-hint {
            0% { transform: translateX(-50%) scale(1); opacity: 0.4; }
            50% { transform: translateX(-50%) scale(1.08); opacity: 1; }
            100% { transform: translateX(-50%) scale(1); opacity: 0.4; }
        }

        .audio-status {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255,255,255,0.9);
            padding: 10px 20px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: bold;
            z-index: 10000;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
    </style>
</head>
<body>
    <!-- Audio Notice -->
    <div id="audioNotice" class="audio-notice">
        üîä Clicca qui per attivare l'audio üéµ
    </div>

    <!-- Status -->
    <div id="audioStatus" class="audio-status" style="display: none;">
        üîä Audio attivo!
    </div>

    <div id="click-area">
        <div class="main-wrapper">
            <div class="heart-container">
                <div class="heart-glow"></div>
                <div class="big-heart">‚ù§Ô∏è</div>
            </div>

            <div class="cat-container" id="catContainer">
                <div class="cat-illustration">
                    <div class="cat-tail"></div>
                    <div class="cat-body"></div>
                    <div class="cat-head">
                        <div class="cat-ear cat-ear-left"></div>
                        <div class="cat-ear cat-ear-right"></div>
                        <div class="cat-eye cat-eye-left sleeping"></div>
                        <div class="cat-eye cat-eye-right sleeping"></div>
                        <div class="cat-nose"></div>
                        <div class="cat-whisker whisker-left-1"></div>
                        <div class="cat-whisker whisker-left-2"></div>
                        <div class="cat-whisker whisker-right-1"></div>
                        <div class="cat-whisker whisker-right-2"></div>
                    </div>
                    <div class="cat-paw paw-left"></div>
                    <div class="cat-paw paw-right"></div>
                    <div class="zzz zzz-1">z</div>
                    <div class="zzz zzz-2">z</div>
                    <div class="zzz zzz-3">Z</div>
                </div>
            </div>
        </div>

        <div class="tap-hint">
            <span class="tap-icon">üëÜ</span>
            <span>tocca il gatto per iniziare</span>
        </div>
    </div>

    <script>
        const clickArea = document.getElementById("click-area");
        const catContainer = document.getElementById("catContainer");
        const bigHeart = document.querySelector(".big-heart");
        const audioNotice = document.getElementById("audioNotice");
        const audioStatus = document.getElementById("audioStatus");
        
        let audioContext;
        let heartbeatInterval;
        let musicInterval;
        let audioInitialized = false;

        // Crea Audio Context
        function createAudioContext() {
            if (!audioContext) {
                audioContext = new (window.AudioContext || window.webkitAudioContext)();
            }
            return audioContext;
        }

        // Suono battito del cuore (sintetizzato)
        function playHeartbeat() {
            const ctx = createAudioContext();
            const oscillator = ctx.createOscillator();
            const gainNode = ctx.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(ctx.destination);
            
            oscillator.frequency.value = 80;
            oscillator.type = 'sine';
            
            gainNode.gain.setValueAtTime(0.3, ctx.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + 0.1);
            
            oscillator.start(ctx.currentTime);
            oscillator.stop(ctx.currentTime + 0.1);
        }

        // Suono gatto GRRR (sintetizzato)
        function playCatGrowl() {
            const ctx = createAudioContext();
            const oscillator = ctx.createOscillator();
            const gainNode = ctx.createGain();
            const filter = ctx.createBiquadFilter();
            
            oscillator.connect(filter);
            filter.connect(gainNode);
            gainNode.connect(ctx.destination);
            
            oscillator.type = 'sawtooth';
            oscillator.frequency.setValueAtTime(100, ctx.currentTime);
            oscillator.frequency.exponentialRampToValueAtTime(50, ctx.currentTime + 0.3);
            
            filter.type = 'lowpass';
            filter.frequency.value = 1000;
            
            gainNode.gain.setValueAtTime(0.5, ctx.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + 0.3);
            
            oscillator.start(ctx.currentTime);
            oscillator.stop(ctx.currentTime + 0.3);
        }

        // Nota musicale di sottofondo
        function playMusicNote(frequency, duration) {
            const ctx = createAudioContext();
            const oscillator = ctx.createOscillator();
            const gainNode = ctx.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(ctx.destination);
            
            oscillator.frequency.value = frequency;
            oscillator.type = 'sine';
            
            gainNode.gain.setValueAtTime(0.1, ctx.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + duration);
            
            oscillator.start(ctx.currentTime);
            oscillator.stop(ctx.currentTime + duration);
        }

        // Melodia di sottofondo
        const musicNotes = [523.25, 587.33, 659.25, 698.46, 783.99, 880.00];
        let noteIndex = 0;

        function startBackgroundMusic() {
            if (musicInterval) return;
            musicInterval = setInterval(() => {
                playMusicNote(musicNotes[noteIndex], 0.5);
                noteIndex = (noteIndex + 1) % musicNotes.length;
            }, 800);
        }

        function startHeartbeat() {
            if (heartbeatInterval) return;
            heartbeatInterval = setInterval(() => {
                playHeartbeat();
                setTimeout(playHeartbeat, 150);
            }, 1000);
        }

        // Inizializza audio
        async function initAudio() {
            if (audioInitialized) return;
            audioInitialized = true;
            
            audioNotice.classList.add('hidden');
            audioStatus.style.display = 'block';
            
            createAudioContext();
            startHeartbeat();
            startBackgroundMusic();
            
            setTimeout(() => {
                audioStatus.style.display = 'none';
            }, 3000);
        }

        // Audio notice click
        audioNotice.addEventListener('click', initAudio);

        // Mostra Z quando la pagina si carica
        catContainer.classList.add('active');

        // Aggiungi sparkle casuali
        function createSparkle() {
            const sparkle = document.createElement("div");
            sparkle.classList.add("sparkle");
            sparkle.style.left = Math.random() * window.innerWidth + "px";
            sparkle.style.top = Math.random() * window.innerHeight + "px";
            document.body.appendChild(sparkle);

            sparkle.animate([
                { opacity: 0, transform: 'scale(0)' },
                { opacity: 1, transform: 'scale(1)', offset: 0.5 },
                { opacity: 0, transform: 'scale(0)' }
            ], {
                duration: 1000 + Math.random() * 2000,
                easing: 'ease-in-out'
            }).onfinish = () => sparkle.remove();
        }

        setInterval(createSparkle, 300);

        // Click area principale
        clickArea.addEventListener("click", async function(event) {
            if (event.target === audioNotice) return;
            if (event.target.closest('.cat-container') || event.target.closest('.big-heart')) return;
            await initAudio();
            launchBall(event.clientX, event.clientY);
        });

        clickArea.addEventListener("touchstart", async function(event) {
            if (event.target === audioNotice) return;
            if (event.target.closest('.cat-container') || event.target.closest('.big-heart')) return;
            event.preventDefault();
            const touch = event.touches[0];
            await initAudio();
            launchBall(touch.clientX, touch.clientY);
        });

        // Interazione con il cuore
        bigHeart.addEventListener("click", handleHeartInteraction);
        bigHeart.addEventListener("touchstart", function(event) {
            event.preventDefault();
            handleHeartInteraction();
        });

        async function handleHeartInteraction() {
            await initAudio();
            
            const rect = bigHeart.getBoundingClientRect();
            const centerX = rect.left + rect.width / 2;
            const centerY = rect.top + rect.height / 2;

            bigHeart.animate([
                { transform: 'scale(1)' },
                { transform: 'scale(1.3)' },
                { transform: 'scale(1)' }
            ], {
                duration: 600,
                easing: 'ease-in-out'
            });

            explosionAt(centerX, centerY);
            heartsAt(centerX, centerY);
            showMessage(centerX, centerY, "TI AMO üíñ");
        }

        // Interazione con il gatto
        catContainer.addEventListener("click", handleCatInteraction);
        catContainer.addEventListener("touchstart", function(event) {
            event.preventDefault();
            handleCatInteraction();
        });

        let catActive = false;
        async function handleCatInteraction() {
            if (catActive) return;
            catActive = true;
            
            await initAudio();

            const rect = catContainer.getBoundingClientRect();
            const centerX = rect.left + rect.width / 2;
            const centerY = rect.top + rect.height / 2;

            catContainer.classList.remove('active');
            
            // Play cat GRRR
            playCatGrowl();

            catContainer.animate([
                { transform: 'scale(1) rotate(0deg)' },
                { transform: 'scale(1.05) rotate(-5deg)' },
                { transform: 'scale(1.1) rotate(5deg)' },
                { transform: 'scale(1.05) rotate(-3deg)' },
                { transform: 'scale(1) rotate(0deg)' }
            ], {
                duration: 1000,
                easing: 'ease-in-out'
            });

            explosionAt(centerX, centerY);
            heartsAt(centerX, centerY);
            showMessage(centerX, centerY, "GRRR GRRR üò∫");

            setTimeout(() => {
                catActive = false;
                catContainer.classList.add('active');
            }, 3000);
        }

        function launchBall(endX, endY) {
            const ball = document.createElement("div");
            ball.classList.add("ball");
            document.body.appendChild(ball);

            const startX = window.innerWidth / 2;
            const startY = window.innerHeight + 30;

            ball.style.left = startX + "px";
            ball.style.top = startY + "px";

            ball.animate([
                { left: startX + 'px', top: startY + 'px' },
                { left: endX + 'px', top: endY + 'px' }
            ], {
                duration: 1100,
                easing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)'
            }).onfinish = () => {
                ball.remove();
                explosionAt(endX, endY);
                heartsAt(endX, endY);
                showMessage(endX, endY, "AUGURI üí´");
            };
        }

        function explosionAt(x, y) {
            const boom = document.createElement("div");
            boom.classList.add("explosion");
            boom.style.left = x + "px";
            boom.style.top = y + "px";
            document.body.appendChild(boom);

            boom.animate([
                { width: '20px', height: '20px', marginLeft: '-10px', marginTop: '-10px', opacity: 0.9 },
                { width: '250px', height: '250px', marginLeft: '-125px', marginTop: '-125px', opacity: 0 }
            ], {
                duration: 900,
                easing: 'cubic-bezier(0.19, 1, 0.22, 1)'
            }).onfinish = () => boom.remove();
        }

        function heartsAt(x, y) {
            const heartCount = 20;
            const heartTypes = ['‚ù§Ô∏è', 'üíñ', 'üíï', 'üíó', 'üíì', 'üíû', 'üíò'];
            const colors = ['#ff1493', '#ff69b4', '#ff007f', '#ff85a2', '#ffb6c1', '#ff0080'];
            
            for (let i = 0; i < heartCount; i++) {
                setTimeout(() => {
                    const heart = document.createElement("div");
                    heart.classList.add("heart-particle");
                    
                    const randomHeart = heartTypes[Math.floor(Math.random() * heartTypes.length)];
                    heart.innerHTML = randomHeart;
                    
                    const randomColor = colors[Math.floor(Math.random() * colors.length)];
                    heart.style.color = randomColor;
                    
                    document.body.appendChild(heart);

                    const angle = (Math.PI * 2 * i) / heartCount;
                    const distance = 80 + Math.random() * 150;
                    const finalX = x + Math.cos(angle) * distance;
                    const finalY = y + Math.sin(angle) * distance;

                    const startOffsetX = (Math.random() - 0.5) * 50;
                    const startOffsetY = (Math.random() - 0.5) * 50;

                    heart.style.left = (x + startOffsetX) + "px";
                    heart.style.top = (y + startOffsetY) + "px";

                    const animation = heart.animate([
                        { 
                            left: (x + startOffsetX) + 'px',
                            top: (y + startOffsetY) + 'px',
                            opacity: 1,
                            transform: 'scale(0.8) rotate(0deg)'
                        },
                        { 
                            left: finalX + 'px',
                            top: finalY + 'px',
                            opacity: 0,
                            transform: `scale(1.5) rotate(${Math.random() * 360}deg)`
                        }
                    ], {
                        duration: 1800 + Math.random() * 800,
                        easing: 'cubic-bezier(0.33, 1, 0.68, 1)'
                    });

                    animation.onfinish = () => heart.remove();

                }, i * 60);
            }
        }

        function showMessage(x, y, text) {
            const msg = document.createElement("div");
            msg.classList.add("message");
            msg.textContent = text;
            msg.style.left = x + "px";
            msg.style.top = y + "px";
            msg.style.transform = 'translate(-50%, -50%)';
            document.body.appendChild(msg);

            const animation1 = msg.animate([
                { opacity: 0, transform: 'translate(-50%, -30%) scale(0.8)' },
                { opacity: 1, transform: 'translate(-50%, -50%) scale(1.2)' }
            ], {
                duration: 1500,
                easing: 'cubic-bezier(0.68, -0.55, 0.265, 1.55)'
            });

            animation1.onfinish = () => {
                const animation2 = msg.animate([
                    { opacity: 1, transform: 'translate(-50%, -50%) scale(1.2)' },
                    { opacity: 0, transform: 'translate(-50%, -70%) scale(1)' }
                ], {
                    duration: 1500,
                    delay: 1200,
                    easing: 'ease-in'
                });
                
                animation2.onfinish = () => msg.remove();
            };
        }
    </script>
</body>
</html>
